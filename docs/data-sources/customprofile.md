---
page_title: "simplemdm_customprofile Data Source - terraform-provider-simplemdm"
subcategory: ""
description: |-
  Retrieves information about a custom configuration profile in SimpleMDM for reference in other resources.
---

# simplemdm_customprofile (Data Source)

Retrieves information about a custom configuration profile in SimpleMDM. This data source provides read-only access to custom profile details including configuration settings and deployment information.

## Example Usage

### Basic Example

```terraform
data "simplemdm_customprofile" "wifi" {
  id = "123456"
}

output "profile_name" {
  value = data.simplemdm_customprofile.wifi.name
}
```

### Advanced Example - Query Profile Details

```terraform
data "simplemdm_customprofile" "vpn_profile" {
  id = "123456"
}

output "profile_details" {
  value = {
    name                   = data.simplemdm_customprofile.vpn_profile.name
    profile_identifier     = data.simplemdm_customprofile.vpn_profile.profileidentifier
    device_count           = data.simplemdm_customprofile.vpn_profile.devicecount
    group_count            = data.simplemdm_customprofile.vpn_profile.groupcount
    attribute_support      = data.simplemdm_customprofile.vpn_profile.attributesupport
    user_scope             = data.simplemdm_customprofile.vpn_profile.userscope
  }
}
```

### Advanced Example - Use in Assignment Group

```terraform
data "simplemdm_customprofile" "security" {
  id = "123456"
}

resource "simplemdm_assignmentgroup" "secure_devices" {
  name     = "Secure Devices"
  profiles = [data.simplemdm_customprofile.security.id]
}
```

### Advanced Example - Multiple Profiles Lookup

```terraform
locals {
  profile_ids = ["123456", "234567", "345678"]
}

data "simplemdm_customprofile" "profiles" {
  for_each = toset(local.profile_ids)
  id       = each.value
}

output "profiles_summary" {
  value = {
    for id, profile in data.simplemdm_customprofile.profiles :
    profile.name => {
      devices = profile.devicecount
      groups  = profile.groupcount
      sha     = profile.profilesha
    }
  }
}
```

### Advanced Example - Profile Content Extraction

```terraform
data "simplemdm_customprofile" "config" {
  id = "123456"
}

# Access the profile content
output "profile_content" {
  value     = data.simplemdm_customprofile.config.mobileconfig
  sensitive = true
}
```

### Advanced Example - Verify Profile Settings

```terraform
data "simplemdm_customprofile" "validation" {
  id = "123456"
}

# Validate profile configuration
output "profile_validation" {
  value = {
    has_attribute_support = data.simplemdm_customprofile.validation.attributesupport
    is_user_scope        = data.simplemdm_customprofile.validation.userscope
    reinstalls_on_update = data.simplemdm_customprofile.validation.reinstallafterosupdate
    escapes_attributes   = data.simplemdm_customprofile.validation.escapeattributes
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) The ID of the custom profile.

### Read-Only

- `attributesupport` (Boolean) Indicates whether variable substitution is enabled for the profile.
- `devicecount` (Number) Number of devices currently assigned to this profile.
- `escapeattributes` (Boolean) Indicates whether custom attribute values are escaped when substituted into the profile.
- `groupcount` (Number) Number of device groups currently assigned to this profile.
- `mobileconfig` (String) Contents of the downloaded custom configuration profile.
- `name` (String) The name of the custom profile.
- `profileidentifier` (String) Profile identifier assigned by SimpleMDM.
- `profilesha` (String) SHA-256 checksum reported by SimpleMDM for the profile payload.
- `reinstallafterosupdate` (Boolean) Whether the profile reinstalls automatically after macOS updates.
- `userscope` (Boolean) Whether the profile deploys as a user profile for macOS devices.

## Notes

- **Read-Only Access**: This data source provides read-only access to custom profile information.
- **Profile Content**: The `mobileconfig` attribute contains the full profile content in XML plist format.
- **SHA Verification**: Use the `profilesha` to verify profile integrity or detect changes.
- **Device/Group Counts**: Reflect current assignments and are updated on each Terraform refresh.
- **Scope Settings**:
  - User scope profiles (`userscope = true`) apply per-user on macOS
  - Device scope profiles (`userscope = false`) apply system-wide
- **Use Cases**:
  - Reference existing profiles in assignment groups
  - Query profile deployment status
  - Validate profile configuration settings
  - Audit profile assignments
  - Extract profile content for backup or analysis