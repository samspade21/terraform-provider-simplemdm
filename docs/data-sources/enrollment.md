---
page_title: "simplemdm_enrollment Data Source - terraform-provider-simplemdm"
subcategory: ""
description: |-
  Retrieves information about an enrollment in SimpleMDM for reference in other resources.
---

# simplemdm_enrollment (Data Source)

Retrieves information about an enrollment in SimpleMDM. This data source provides read-only access to enrollment details including URLs, settings, and associated device information.

## Example Usage

### Basic Example

```terraform
data "simplemdm_enrollment" "existing" {
  id = "123456"
}

output "enrollment_url" {
  value     = data.simplemdm_enrollment.existing.url
  sensitive = true
}
```

### Advanced Example - Query Enrollment Details

```terraform
data "simplemdm_enrollment" "corporate" {
  id = "123456"
}

output "enrollment_info" {
  value = {
    account_driven  = data.simplemdm_enrollment.corporate.account_driven
    user_enrollment = data.simplemdm_enrollment.corporate.user_enrollment
    welcome_screen  = data.simplemdm_enrollment.corporate.welcome_screen
    authentication  = data.simplemdm_enrollment.corporate.authentication
    device_group_id = data.simplemdm_enrollment.corporate.device_group_id
    device_id       = data.simplemdm_enrollment.corporate.device_id
  }
}
```

### Advanced Example - Check Enrollment Status

```terraform
data "simplemdm_enrollment" "check_enrollment" {
  id = "123456"
}

output "enrollment_status" {
  value = data.simplemdm_enrollment.check_enrollment.device_id != "" ? 
          "Enrollment used by device ${data.simplemdm_enrollment.check_enrollment.device_id}" :
          "Enrollment not yet used"
}
```

### Advanced Example - Multiple Enrollments Lookup

```terraform
locals {
  enrollment_ids = ["123456", "234567", "345678"]
}

data "simplemdm_enrollment" "enrollments" {
  for_each = toset(local.enrollment_ids)
  id       = each.value
}

output "enrollments_summary" {
  value = {
    for id, enrollment in data.simplemdm_enrollment.enrollments :
    id => {
      account_driven = enrollment.account_driven
      url_available  = enrollment.url != ""
      device_used    = enrollment.device_id != ""
    }
  }
}
```

### Advanced Example - Conditional Device Creation

```terraform
data "simplemdm_enrollment" "target" {
  id = "123456"
}

# Only create device if enrollment hasn't been used
resource "simplemdm_device" "conditional" {
  count = data.simplemdm_enrollment.target.device_id == "" ? 1 : 0
  
  name        = "New Device"
  devicegroup = data.simplemdm_enrollment.target.device_group_id
}
```

### Advanced Example - Enrollment Type Analysis

```terraform
data "simplemdm_enrollment" "analysis" {
  id = "123456"
}

locals {
  enrollment_type = data.simplemdm_enrollment.analysis.account_driven ? "account-driven" : "one-time"
  enrollment_scope = data.simplemdm_enrollment.analysis.user_enrollment ? "user" : "device"
}

output "enrollment_classification" {
  value = "${local.enrollment_type} ${local.enrollment_scope} enrollment"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) Identifier of the enrollment to retrieve.

### Read-Only

- `account_driven` (Boolean) True when the enrollment is account driven (URL is null).
- `authentication` (Boolean) Indicates whether authentication is required before enrollment.
- `device_group_id` (String) Identifier of the device group associated with the enrollment.
- `device_id` (String) Identifier of the device that used the enrollment, when applicable.
- `url` (String) Enrollment URL returned by SimpleMDM for one-time enrollments.
- `user_enrollment` (Boolean) Indicates whether the enrollment is a user enrollment.
- `welcome_screen` (Boolean) Indicates whether the welcome screen is displayed during enrollment.

## Notes

- **Read-Only Access**: This data source provides read-only access to enrollment information.
- **Enrollment Types**:
  - **Account-Driven**: When `account_driven = true`, devices enroll through Apple Business Manager (no URL)
  - **One-Time**: When `account_driven = false`, a unique URL is provided for manual enrollment
- **User vs Device Enrollment**:
  - **User Enrollment** (`user_enrollment = true`): Limited management for BYOD scenarios
  - **Device Enrollment** (`user_enrollment = false`): Full device management
- **URL Sensitivity**: Enrollment URLs should be treated as sensitive information.
- **Device Tracking**: The `device_id` attribute is populated after a device completes enrollment using this enrollment.
- **Use Cases**:
  - Reference enrollment URLs for distribution
  - Check if enrollment has been used
  - Query enrollment configuration settings
  - Validate enrollment type before device creation
  - Audit enrollment settings