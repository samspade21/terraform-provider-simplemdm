---
page_title: "simplemdm_script Data Source - terraform-provider-simplemdm"
subcategory: ""
description: |-
  Retrieves information about a script in SimpleMDM for reference in script jobs.
---

# simplemdm_script (Data Source)

Retrieves information about a script in SimpleMDM. This data source provides read-only access to script details including content, metadata, and variable support settings.

## Example Usage

### Basic Example

```terraform
data "simplemdm_script" "backup" {
  id = "123456"
}

output "script_name" {
  value = data.simplemdm_script.backup.name
}
```

### Advanced Example - Query Script Details

```terraform
data "simplemdm_script" "system_check" {
  id = "123456"
}

output "script_info" {
  value = {
    name             = data.simplemdm_script.system_check.name
    variable_support = data.simplemdm_script.system_check.variablesupport
    created_at       = data.simplemdm_script.system_check.created_at
    created_by       = data.simplemdm_script.system_check.created_by
    updated_at       = data.simplemdm_script.system_check.updated_at
  }
}
```

### Advanced Example - Use in Script Job

```terraform
data "simplemdm_script" "maintenance" {
  id = "123456"
}

resource "simplemdm_scriptjob" "run_maintenance" {
  script_id  = data.simplemdm_script.maintenance.id
  device_ids = ["789012", "890123"]
}
```

### Advanced Example - Multiple Scripts Lookup

```terraform
locals {
  script_ids = ["123456", "234567", "345678"]
}

data "simplemdm_script" "scripts" {
  for_each = toset(local.script_ids)
  id       = each.value
}

output "scripts_summary" {
  value = {
    for id, script in data.simplemdm_script.scripts :
    script.name => {
      has_variables = script.variablesupport
      created_at    = script.created_at
      created_by    = script.created_by
    }
  }
}
```

### Advanced Example - Conditional Script Job

```terraform
data "simplemdm_script" "check_script" {
  id = "123456"
}

# Only create job if script supports variables
resource "simplemdm_scriptjob" "conditional" {
  count = data.simplemdm_script.check_script.variablesupport ? 1 : 0
  
  script_id              = data.simplemdm_script.check_script.id
  device_ids             = ["789012"]
  custom_attribute       = "script_output"
  custom_attribute_regex = "\\n"
}
```

### Advanced Example - Script Content Verification

```terraform
data "simplemdm_script" "verify" {
  id = "123456"
}

# Access script content for verification or backup
output "script_content" {
  value     = data.simplemdm_script.verify.scriptfile
  sensitive = true
}

# Check if script was recently updated
locals {
  script_age_days = floor(
    (timestamp() - timeadd(data.simplemdm_script.verify.updated_at, "0s")) / 86400
  )
}

output "script_freshness" {
  value = "Script last updated ${local.script_age_days} days ago"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) The ID of the script.

### Read-Only

- `created_at` (String) Timestamp when the script was created.
- `created_by` (String) User that created the script in SimpleMDM.
- `name` (String) The name of the script.
- `scriptfile` (String) The script content.
- `updated_at` (String) Timestamp when the script was last updated.
- `variablesupport` (Boolean) Whether variable support is enabled for this script.

## Notes

- **Read-Only Access**: This data source provides read-only access to script information.
- **Script Content**: The `scriptfile` attribute contains the complete script content. Handle this securely as it may contain sensitive information.
- **Variable Support**: When `variablesupport` is true, the script can use SimpleMDM custom attributes via `$attribute_name` syntax.
- **Creator Information**: The `created_by` field indicates which user or API key created the script.
- **macOS Only**: Scripts retrieved by this data source can only be executed on macOS devices.
- **Use Cases**:
  - Reference scripts for script job creation
  - Verify script configuration before execution
  - Query script metadata for auditing
  - Check variable support requirements
  - Monitor script modifications
  - Backup script content