---
page_title: "simplemdm_managed_config Resource - terraform-provider-simplemdm"
subcategory: ""
description: |-
  Manages app configurations for SimpleMDM apps, enabling centralized configuration management and automatic updates.
---

# simplemdm_managed_config (Resource)

Manages app configurations for SimpleMDM apps. Managed app configurations allow you to configure apps centrally and push configuration updates to devices automatically. This is particularly useful for enterprise apps that support managed configuration.

## Example Usage

### Basic Example

```terraform
resource "simplemdm_app" "slack" {
  app_store_id = "803453959"
  name         = "Slack"
}

resource "simplemdm_managed_config" "slack_server" {
  app_id     = simplemdm_app.slack.id
  key        = "ServerURL"
  value      = "https://company.slack.com"
  value_type = "string"
}
```

### Advanced Example - Multiple Configurations

```terraform
resource "simplemdm_app" "enterprise_app" {
  app_store_id = "586447913"
  name         = "Enterprise App"
}

resource "simplemdm_managed_config" "api_url" {
  app_id     = simplemdm_app.enterprise_app.id
  key        = "APIEndpoint"
  value      = "https://api.example.com"
  value_type = "string"
}

resource "simplemdm_managed_config" "api_port" {
  app_id     = simplemdm_app.enterprise_app.id
  key        = "APIPort"
  value      = "8443"
  value_type = "integer"
}

resource "simplemdm_managed_config" "enable_logging" {
  app_id     = simplemdm_app.enterprise_app.id
  key        = "EnableDebugLogging"
  value      = "true"
  value_type = "boolean"
}
```

### Advanced Example - Array Values

```terraform
resource "simplemdm_app" "config_app" {
  app_store_id = "123456789"
}

resource "simplemdm_managed_config" "allowed_domains" {
  app_id     = simplemdm_app.config_app.id
  key        = "AllowedDomains"
  value      = jsonencode(["example.com", "test.com", "demo.com"])
  value_type = "string array"
}

resource "simplemdm_managed_config" "max_retries" {
  app_id     = simplemdm_app.config_app.id
  key        = "RetryLimits"
  value      = jsonencode([3, 5, 10])
  value_type = "integer array"
}
```

### Advanced Example - Environment-based Configuration

```terraform
variable "environment" {
  type    = string
  default = "production"
}

locals {
  api_endpoints = {
    production = "https://api.example.com"
    staging    = "https://staging-api.example.com"
    dev        = "https://dev-api.example.com"
  }
}

resource "simplemdm_app" "mobile_app" {
  app_store_id = "987654321"
  name         = "Mobile App"
}

resource "simplemdm_managed_config" "environment_url" {
  app_id     = simplemdm_app.mobile_app.id
  key        = "ServerURL"
  value      = local.api_endpoints[var.environment]
  value_type = "string"
}

resource "simplemdm_managed_config" "is_production" {
  app_id     = simplemdm_app.mobile_app.id
  key        = "IsProduction"
  value      = var.environment == "production" ? "true" : "false"
  value_type = "boolean"
}
```

### Advanced Example - Float and Date Types

```terraform
resource "simplemdm_app" "scientific_app" {
  app_store_id = "111222333"
}

resource "simplemdm_managed_config" "threshold" {
  app_id     = simplemdm_app.scientific_app.id
  key        = "MeasurementThreshold"
  value      = "0.025"
  value_type = "float"
}

resource "simplemdm_managed_config" "calibration_date" {
  app_id     = simplemdm_app.scientific_app.id
  key        = "LastCalibrationDate"
  value      = "2024-01-15T10:30:00Z"
  value_type = "date"
}

resource "simplemdm_managed_config" "coefficients" {
  app_id     = simplemdm_app.scientific_app.id
  key        = "CalibrationCoefficients"
  value      = jsonencode([1.0, 0.95, 1.05, 0.98])
  value_type = "float array"
}
```

### Advanced Example - Dynamic Configuration

```terraform
resource "simplemdm_app" "dynamic_app" {
  app_store_id = "444555666"
}

# Use for_each to create multiple configs from a map
locals {
  app_settings = {
    Theme           = { value = "dark", type = "string" }
    FontSize        = { value = "14", type = "integer" }
    AutoSave        = { value = "true", type = "boolean" }
    SaveInterval    = { value = "30.5", type = "float" }
  }
}

resource "simplemdm_managed_config" "dynamic_settings" {
  for_each = local.app_settings
  
  app_id     = simplemdm_app.dynamic_app.id
  key        = each.key
  value      = each.value.value
  value_type = each.value.type
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_id` (String) ID of the app that owns the managed configuration.
- `key` (String) Configuration key as defined by the managed app schema.
- `value` (String) Raw value supplied to the managed configuration. Format must match value_type.
- `value_type` (String) Data type of value accepted by the app. Valid values: `boolean`, `date`, `float`, `float array`, `integer`, `integer array`, `string`, `string array`.

### Read-Only

- `id` (String) Composite identifier of the managed app configuration in the format `<app_id>:<managed_config_id>`.

## Import

Import is supported using the following syntax:

```shell
# Managed config can be imported using the composite ID format: app_id:managed_config_id
terraform import simplemdm_managed_config.example 123456:789012
```

## Notes

- **Automatic Updates**: Changes to managed configurations are automatically pushed to devices running the app.
- **Value Types**: Ensure the `value` format matches the `value_type`:
  - `string`: Plain text value
  - `integer`: Numeric value without decimal point
  - `float`: Numeric value with decimal point
  - `boolean`: `"true"` or `"false"` (as string)
  - `date`: ISO 8601 format (e.g., `"2024-01-15T10:30:00Z"`)
  - Arrays: JSON-encoded array (e.g., `jsonencode(["a", "b", "c"])`)
- **App Schema**: Configuration keys must match the managed app's configuration schema. Refer to the app's documentation.
- **Push Behavior**: Configuration changes are pushed immediately; devices will receive updates on their next check-in.
- **Composite ID**: The resource ID is a composite of `app_id` and `managed_config_id` separated by a colon.
- **Array Values**: For array types, encode the value as JSON using `jsonencode()`.
- **Validation**: SimpleMDM validates that the configuration key and type match the app's declared schema.