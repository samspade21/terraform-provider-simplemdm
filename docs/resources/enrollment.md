---
page_title: "simplemdm_enrollment Resource - terraform-provider-simplemdm"
subcategory: ""
description: |-
  Manages enrollment links in SimpleMDM for one-time and account-driven device enrollments.
---

# simplemdm_enrollment (Resource)

Manages enrollment links in SimpleMDM. Enrollment resources create enrollment URLs or account-driven enrollment configurations that allow devices to be enrolled into SimpleMDM. Enrollments can be configured with various options including user enrollment, authentication requirements, and welcome screens.

## Example Usage

### Basic Example - One-time Enrollment

```terraform
resource "simplemdm_enrollment" "onetime" {
  device_group_id = "123456"
}
```

### Advanced Example - User Enrollment with Welcome Screen

```terraform
resource "simplemdm_devicegroup" "byod_devices" {
  name = "BYOD Devices"
}

resource "simplemdm_enrollment" "byod" {
  device_group_id = simplemdm_devicegroup.byod_devices.id
  user_enrollment = true
  welcome_screen  = true
  authentication  = false
}

output "byod_enrollment_url" {
  value       = simplemdm_enrollment.byod.url
  sensitive   = true
  description = "Share this URL with BYOD users"
}
```

### Advanced Example - Account-Driven Enrollment

```terraform
resource "simplemdm_enrollment" "corporate" {
  device_group_id = "123456"
  user_enrollment = false
  welcome_screen  = true
  authentication  = true
}

# Account-driven enrollments have no URL
output "is_account_driven" {
  value = simplemdm_enrollment.corporate.account_driven
}
```

### Advanced Example - With Email Invitation

```terraform
resource "simplemdm_enrollment" "new_hire" {
  device_group_id    = simplemdm_devicegroup.employees.id
  user_enrollment    = false
  welcome_screen     = true
  authentication     = false
  invitation_contact = "newhire@example.com"
}
```

### Advanced Example - Multiple Enrollment Types

```terraform
resource "simplemdm_devicegroup" "contractors" {
  name = "Contractor Devices"
}

# Standard enrollment for supervised devices
resource "simplemdm_enrollment" "supervised" {
  device_group_id = simplemdm_devicegroup.contractors.id
  user_enrollment = false
  welcome_screen  = false
  authentication  = true
}

# User enrollment for personal devices
resource "simplemdm_enrollment" "personal" {
  device_group_id = simplemdm_devicegroup.contractors.id
  user_enrollment = true
  welcome_screen  = true
  authentication  = true
}

output "enrollment_urls" {
  value = {
    supervised = simplemdm_enrollment.supervised.url
    personal   = simplemdm_enrollment.personal.url
  }
  sensitive = true
}
```

### Advanced Example - Conditional Invitation

```terraform
variable "send_invitation" {
  type    = bool
  default = false
}

variable "user_email" {
  type    = string
  default = ""
}

resource "simplemdm_enrollment" "conditional" {
  device_group_id    = "123456"
  user_enrollment    = false
  welcome_screen     = true
  authentication     = false
  invitation_contact = var.send_invitation ? var.user_email : null
}
```

### Advanced Example - Pre-configured Device Enrollment

```terraform
# Create enrollment for a pre-configured device
resource "simplemdm_device" "preconfigured" {
  name        = "Manager Laptop"
  devicegroup = simplemdm_devicegroup.management.id
}

resource "simplemdm_enrollment" "manager_device" {
  device_group_id    = simplemdm_devicegroup.management.id
  user_enrollment    = false
  welcome_screen     = false
  authentication     = true
  invitation_contact = "manager@example.com"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `device_group_id` (String) Identifier of the device group associated with the enrollment.

### Optional

- `authentication` (Boolean) Requires authentication before enrollment can proceed. Default: `false`.
- `invitation_contact` (String) Email address or phone number to send an enrollment invitation to after creation or when updated.
- `user_enrollment` (Boolean) When true, creates a user enrollment instead of a device enrollment. Default: `false`.
- `welcome_screen` (Boolean) Controls whether the welcome screen is shown to end users during enrollment. Default: `false`.

### Read-Only

- `account_driven` (Boolean) True when the enrollment is account driven (URL is null).
- `device_id` (String) Identifier of the device that used this enrollment link, when applicable.
- `id` (String) The unique identifier of the enrollment in SimpleMDM.
- `url` (String) Enrollment URL returned by SimpleMDM for one-time enrollments.

## Import

Import is supported using the following syntax:

```shell
# Enrollment can be imported by specifying the enrollment ID
terraform import simplemdm_enrollment.example 123456
```

## Notes

- **Enrollment Types**:
  - **Device Enrollment** (`user_enrollment = false`): Full device management with all MDM capabilities
  - **User Enrollment** (`user_enrollment = true`): Limited management for BYOD scenarios, preserves user privacy
- **Account-Driven vs One-Time**:
  - When `account_driven = true`, no URL is provided and devices enroll through Apple Business Manager
  - When `account_driven = false`, a unique URL is provided for manual enrollment
- **URL Security**: The enrollment URL should be treated as sensitive. It allows anyone with the URL to enroll a device.
- **Authentication**: When enabled, users must authenticate before enrollment begins.
- **Welcome Screen**: The welcome screen provides enrollment instructions to end users.
- **Invitation Contact**: When provided, SimpleMDM sends an enrollment invitation email or SMS. This can be updated to send new invitations.
- **Device Tracking**: Once a device enrolls using the URL, the `device_id` attribute is populated.
- **Group Assignment**: Devices enrolled through this enrollment are automatically assigned to the specified device group.
- **One-Time Use**: Each enrollment URL is typically single-use. Create separate enrollments for multiple devices.